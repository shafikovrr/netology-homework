# Домашнее задание к занятию "`Базы данных`" - `Шафиков Ринат`

### Легенда

Заказчик передал вам файл в формате Excel, в котором сформирован отчёт.

На основе этого отчёта нужно выполнить следующие задания.

### Задание 1

Опишите не менее семи таблиц, из которых состоит база данных:
- какие данные хранятся в этих таблицах;
- какой тип данных у столбцов в этих таблицах, если данные хранятся в PostgreSQL.
Приведите решение к следующему виду:

Сотрудники (
идентификатор int, auto_increment, serial,
фамилия varchar(50),
...
идентификатор структурного подразделения, внешний ключ, integer).

### Решение 1

#### Данные хранящиеся в таблице:

- ФИО сотрудника	varchar
- Оклад	DECIMAL/NUMERIC
- Должность	varchar
- Тип подразделения	varchar
- Структурное подразделение	varchar
- Дата найма	date
- Адрес филиала	varchar
- Проект на который назначен varchar

#### PostgreSQL:

- Оклад	DECIMAL/NUMERIC
- Должность	TEXT
- Тип подразделения	TEXT
- Структурное подразделение	TEXT
- Дата найма	date
- Адрес филиала	TEXT
- Проект на который назначен TEXT

#### Таблица 1 Сотрудники

```
Сотрудники (
  идентификатор, первичный ключ, тип INT, обязателен для заполнения, AUTO_INCREMENT (значение столбца будет автоматически увеличиваться при добавлении новой строки)
  фамилия, тип VARCHAR(строка переменной длины, максимальная длинна 50 символов), обязательна для заполнения
  имя, тип VARCHAR(максимальная длинна 50 символов), обязательна для заполнения
  фамилия, тип VARCHAR(максимальная длинна 50 символов), обязательна для заполнения
  даты приема на работу, тип data ( хранит значения даты в виде ГГГГ-ММ-ДД.), обязательна для заполнения
  идентификатор оклада, внешний ключ, int (целое число)
  идентификатор должности, внешний ключ, int (целое число)
  идентификатор структурного подразделения, внешний ключ, int (целое число)
  )
```

#### Таблица 2 Оклад

```
Оклад (
  идентификатор, первичный ключ, тип INT, обязателен для заполнения
  оклад, тип decimal(дробное число, хранящееся в виде строки), обязательна для заполнения
 )
```

#### Таблица 3 Должность

```
Должность (
  идентификатор должности, первичный ключ, тип INT, обязателен для заполнения
  назване должности, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
)
```

#### Таблица 4 Тип подразделения

```
Тип подразделения (
  идентификатор типа подразделения, первичный ключ, тип INT, обязателен для заполнения
  назване типа подразделения, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
)
```

#### Таблица 5 Структурное подразделение

```
Структурное подразделение (
  идентификатор структурного подразделения, первичный ключ, тип INT, обязателен для заполнения
  назване структурного подразделения, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
  идентификатор типа подразделения, внешний ключ, int (целое число)
  идентификатор адреса структурного подразделения, внешний ключ, int (целое число)
)
```

#### Таблица 6 Административно территориальная единица

```
Административно территориальная единица (
  идентификатор административно территориально единицы, первичный ключ, тип INT, обязателен для заполнения, AUTO_INCREMENT (значение столбца будет автоматически увеличиваться при добавлении новой строки) 
  назване административно территориальной единицы, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
)
```

#### Таблица 7 Город

```
Город (
  идентификатор города, первичный ключ, тип INT, обязателен для заполнения, AUTO_INCREMENT (значение столбца будет автоматически увеличиваться при добавлении новой строки) 
  назване города, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
)
```

#### Таблица 8 Адрес подразделения

```
Адрес подразделения (
  идентификатор адреса подразделения, первичный ключ, тип INT, обязателен для заполнения, AUTO_INCREMENT (значение столбца будет автоматически увеличиваться при добавлении новой строки) 
  идентификатор административно территориальной единицы, внешний ключ, int (целое число)
  идентификатор названия города, внешний ключ, int (целое число)
  назване улицы и номер дома, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
)
```

#### Таблица 9 Проект

```
Проект (
  идентификатор проекта, первичный ключ, тип INT, обязателен для заполнения, AUTO_INCREMENT (значение столбца будет автоматически увеличиваться при добавлении новой строки) 
  назване проекта, тип VARCHAR(строка переменной длины, максимальная длинна 100 символов), обязательна для заполнения
)
```

##### Таблица 10 Сотрудники и проекты

```
Таблица сотрудников с указанием в каких проектах они учавствуют (
  идентификатор проекта, внешний ключ, int (целое число)
  идентификатор работника, внешний ключ, int (целое число)
  идентификатор структурного подразделения, внешний ключ, int (целое число)
)
```

---

### Задание 2

Перечислите, какие, на ваш взгляд, в этой денормализованной таблице встречаются функциональные зависимости и какие правила вывода нужно применить, чтобы нормализовать данные.

### Решение 2

Зависимость ключей (в отношении “Сотрудники”, ключ “Идентификатор сотрудника” функционально зависит от всех остальных атрибутов (имя, должность и т.д.))

Сотрудник - Проект

Сотрудник - Должность

Сотрудник - Оклад

Сотрудник - Тип подразделения

Сотрудник - Дата найма

Проект - Адресс 

Оклад зависит от Должности, Должность зависит от Отдела, т.е. Оклад зависит от Должности и Отдела одновременно - правило произведения

Сотрудник зависит от Должности и от Проекта, Проект зависит от Заказчика т.е. Сотрудник зависит от Должности и Заказчика - правое сокращение

Оклад и Должность зависят от Структурного подразделения, а Должность зависит от Проекта, т.е. Оклад зависит от Структурного подразделения и Проекта - левое сокращение.

---
